import { OfficeItem, TimelineMessage } from '@/types/inbox';
import { SUITE_ID, OFFICE_ID } from '@/types/common';
import { officeId } from '@/lib/ids';

const now = new Date();
const hoursAgo = (h: number) => new Date(now.getTime() - h * 3600000).toISOString();
const daysAgo = (d: number) => new Date(now.getTime() - d * 86400000).toISOString();

export const officeItems: OfficeItem[] = [
  {
    id: officeId(1),
    type: 'office',
    title: 'Vendor onboarding — Zenith Supplies',
    preview: 'New vendor registration requires approval for payment setup',
    timestamp: hoursAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Ops', 'Finance'],
    priority: 'High',
    status: 'Open',
    linkedReceiptIds: ['RCP_0001', 'RCP_0002'],
    department: 'Operations',
    requestType: 'Vendor Approval',
    createdAt: hoursAgo(2),
    updatedAt: hoursAgo(1),
    assignedTo: 'Quinn',
    unread: true,
  },
  {
    id: officeId(2),
    type: 'office',
    title: 'Lease renewal discussion',
    preview: 'Annual lease renewal terms received from property management',
    timestamp: hoursAgo(3),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal', 'Finance'],
    priority: 'High',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0003'],
    department: 'Legal',
    requestType: 'Contract Review',
    createdAt: daysAgo(2),
    updatedAt: hoursAgo(3),
    assignedTo: 'Ava',
    unread: true,
  },
  {
    id: officeId(3),
    type: 'office',
    title: 'Security audit preparation',
    preview: 'Q1 security compliance audit scheduled for next week',
    timestamp: hoursAgo(5),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Security', 'Ops'],
    priority: 'Medium',
    status: 'Open',
    linkedReceiptIds: ['RCP_0004', 'RCP_0005'],
    department: 'IT Security',
    requestType: 'Audit Prep',
    createdAt: daysAgo(3),
    updatedAt: hoursAgo(5),
    assignedTo: 'Cole',
    unread: false,
  },
  {
    id: officeId(4),
    type: 'office',
    title: 'Invoice reminder sent — Acme Corp',
    preview: 'Automated payment reminder dispatched for overdue invoice',
    timestamp: hoursAgo(8),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance'],
    priority: 'Medium',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0006'],
    department: 'Billing',
    requestType: 'Payment Follow-up',
    createdAt: daysAgo(5),
    updatedAt: hoursAgo(8),
    assignedTo: 'Quinn',
    unread: false,
  },
  {
    id: officeId(5),
    type: 'office',
    title: 'Contract bound — Vendor agreement',
    preview: 'DocuSign signature completed for vendor services agreement',
    timestamp: hoursAgo(12),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal', 'Ops'],
    priority: 'Low',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0007', 'RCP_0008'],
    department: 'Legal',
    requestType: 'Contract Execution',
    createdAt: daysAgo(7),
    updatedAt: hoursAgo(12),
    assignedTo: 'Ava',
    unread: false,
  },
  {
    id: officeId(6),
    type: 'office',
    title: 'New client proposal — TechStart Inc',
    preview: 'Draft proposal ready for review before sending',
    timestamp: daysAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales'],
    priority: 'High',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0009'],
    department: 'Sales',
    requestType: 'Proposal Review',
    createdAt: daysAgo(3),
    updatedAt: daysAgo(1),
    assignedTo: 'Piper',
    unread: true,
  },
  {
    id: officeId(7),
    type: 'office',
    title: 'Employee expense report — Marketing',
    preview: 'Monthly expense report submitted for approval',
    timestamp: daysAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance', 'Ops'],
    priority: 'Low',
    status: 'Open',
    linkedReceiptIds: ['RCP_0010'],
    department: 'Finance',
    requestType: 'Expense Approval',
    createdAt: daysAgo(2),
    updatedAt: daysAgo(1),
    assignedTo: 'Quinn',
    unread: false,
  },
  {
    id: officeId(8),
    type: 'office',
    title: 'IT infrastructure upgrade request',
    preview: 'Server migration proposal from cloud provider',
    timestamp: daysAgo(2),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Security', 'Ops'],
    priority: 'Medium',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0011'],
    department: 'IT',
    requestType: 'Infrastructure',
    createdAt: daysAgo(5),
    updatedAt: daysAgo(2),
    assignedTo: 'Cole',
    unread: false,
  },
  {
    id: officeId(9),
    type: 'office',
    title: 'Client feedback review — Q4 Survey',
    preview: 'Quarterly client satisfaction results ready for analysis',
    timestamp: daysAgo(3),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales', 'Ops'],
    priority: 'Medium',
    status: 'Open',
    linkedReceiptIds: ['RCP_0012'],
    department: 'Client Success',
    requestType: 'Feedback Analysis',
    createdAt: daysAgo(4),
    updatedAt: daysAgo(3),
    assignedTo: 'Nara',
    unread: false,
  },
  {
    id: officeId(10),
    type: 'office',
    title: 'Marketing campaign approval',
    preview: 'Q1 digital marketing budget allocation needs sign-off',
    timestamp: daysAgo(4),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance', 'Sales'],
    priority: 'Medium',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0013'],
    department: 'Marketing',
    requestType: 'Budget Approval',
    createdAt: daysAgo(6),
    updatedAt: daysAgo(4),
    assignedTo: 'Nova',
    unread: false,
  },
  {
    id: officeId(11),
    type: 'office',
    title: 'Insurance policy renewal',
    preview: 'Annual business liability insurance requires renewal decision',
    timestamp: daysAgo(5),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal', 'Finance'],
    priority: 'High',
    status: 'Open',
    linkedReceiptIds: ['RCP_0014'],
    department: 'Operations',
    requestType: 'Policy Renewal',
    createdAt: daysAgo(10),
    updatedAt: daysAgo(5),
    assignedTo: 'Ava',
    unread: true,
  },
  {
    id: officeId(12),
    type: 'office',
    title: 'Compliance training completion',
    preview: 'Team compliance certifications due for renewal',
    timestamp: daysAgo(6),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Security', 'Ops'],
    priority: 'Low',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0015'],
    department: 'HR',
    requestType: 'Training',
    createdAt: daysAgo(14),
    updatedAt: daysAgo(6),
    assignedTo: 'Clara',
    unread: false,
  },
];

export function getOfficeItemTimeline(id: string): TimelineMessage[] {
  return [
    {
      id: 'msg_1',
      sender: 'System',
      senderRole: 'Automated',
      content: 'Item created and assigned to queue.',
      timestamp: daysAgo(2),
      isAI: true,
    },
    {
      id: 'msg_2',
      sender: 'Quinn',
      senderRole: 'Billing Specialist',
      content: 'Reviewed initial documentation. Pending vendor verification.',
      timestamp: daysAgo(1),
      isAI: true,
    },
    {
      id: 'msg_3',
      sender: 'Ava',
      senderRole: 'Chief of Staff',
      content: 'Flagged for priority review. Recommend expedited processing.',
      timestamp: hoursAgo(12),
      isAI: true,
    },
    {
      id: 'msg_4',
      sender: 'Human',
      senderRole: 'Founder',
      content: 'Approved for next steps. Please proceed with verification.',
      timestamp: hoursAgo(6),
      isAI: false,
    },
    {
      id: 'msg_5',
      sender: 'Quinn',
      senderRole: 'Billing Specialist',
      content: 'Verification complete. Ready for final approval.',
      timestamp: hoursAgo(2),
      isAI: true,
    },
  ];
}
