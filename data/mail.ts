import { MailThread, MailMessage, MailAttachment } from '@/types/mail';
import { SUITE_ID, OFFICE_ID } from '@/types/common';
import { mailId } from '@/lib/ids';

const now = new Date();
const hoursAgo = (h: number) => new Date(now.getTime() - h * 3600000).toISOString();
const daysAgo = (d: number) => new Date(now.getTime() - d * 86400000).toISOString();

export const mailThreads: MailThread[] = [
  {
    id: mailId(1),
    type: 'mail',
    subject: 'Lease Renewal Draft v2 — Review Required',
    preview: 'Please find attached the revised lease renewal terms for your review...',
    senderName: 'James Morrison',
    senderEmail: 'j.morrison@propertygroup.com',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: hoursAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal', 'Finance'],
    priority: 'High',
    status: 'Open',
    linkedReceiptIds: ['RCP_0028'],
    unread: true,
    messageCount: 4,
    hasAttachments: true,
    createdAt: daysAgo(3),
    updatedAt: hoursAgo(1),
  },
  {
    id: mailId(2),
    type: 'mail',
    subject: 'Vendor Onboarding Checklist — Zenith Supplies',
    preview: 'The onboarding documentation is ready. Please complete the attached checklist...',
    senderName: 'Patricia Lane',
    senderEmail: 'p.lane@zenithsupplies.com',
    recipients: ['ops@zenithsolutions.com'],
    timestamp: hoursAgo(3),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Ops'],
    priority: 'Medium',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0029'],
    unread: true,
    messageCount: 2,
    hasAttachments: true,
    createdAt: daysAgo(2),
    updatedAt: hoursAgo(3),
  },
  {
    id: mailId(3),
    type: 'mail',
    subject: 'Invoice #2026-01-11 — Payment Confirmation',
    preview: 'This email confirms receipt of your payment for invoice #2026-01-11...',
    senderName: 'Billing Department',
    senderEmail: 'billing@acmecorp.com',
    recipients: ['accounts@zenithsolutions.com'],
    timestamp: hoursAgo(5),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance'],
    priority: 'Low',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0030'],
    unread: false,
    messageCount: 3,
    hasAttachments: true,
    createdAt: daysAgo(5),
    updatedAt: hoursAgo(5),
  },
  {
    id: mailId(4),
    type: 'mail',
    subject: 'Security Audit Schedule — Q1 2026',
    preview: 'We are scheduling your quarterly security audit for next week...',
    senderName: 'Security Team',
    senderEmail: 'security@compliancepartners.com',
    recipients: ['it@zenithsolutions.com'],
    timestamp: hoursAgo(8),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Security'],
    priority: 'High',
    status: 'Open',
    linkedReceiptIds: ['RCP_0031'],
    unread: true,
    messageCount: 5,
    hasAttachments: false,
    createdAt: daysAgo(4),
    updatedAt: hoursAgo(8),
  },
  {
    id: mailId(5),
    type: 'mail',
    subject: 'Partnership Proposal — TechStart Inc',
    preview: 'Following our call, I wanted to formalize our partnership proposal...',
    senderName: 'Kevin Zhang',
    senderEmail: 'k.zhang@techstart.io',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: hoursAgo(12),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales'],
    priority: 'High',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0032'],
    unread: false,
    messageCount: 6,
    hasAttachments: true,
    createdAt: daysAgo(7),
    updatedAt: hoursAgo(12),
  },
  {
    id: mailId(6),
    type: 'mail',
    subject: 'Monthly Expense Report — December 2025',
    preview: 'Please find attached the monthly expense report for your review...',
    senderName: 'Finance Team',
    senderEmail: 'finance@zenithsolutions.com',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: daysAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance'],
    priority: 'Medium',
    status: 'Open',
    linkedReceiptIds: ['RCP_0033'],
    unread: false,
    messageCount: 2,
    hasAttachments: true,
    createdAt: daysAgo(2),
    updatedAt: daysAgo(1),
  },
  {
    id: mailId(7),
    type: 'mail',
    subject: 'Contract Signature Required — Vendor Services',
    preview: 'The DocuSign envelope is ready for your signature...',
    senderName: 'DocuSign',
    senderEmail: 'dse@docusign.net',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: daysAgo(1),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal'],
    priority: 'High',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0034'],
    unread: true,
    messageCount: 1,
    hasAttachments: true,
    createdAt: daysAgo(1),
    updatedAt: daysAgo(1),
  },
  {
    id: mailId(8),
    type: 'mail',
    subject: 'Client Feedback Survey Results — Q4',
    preview: 'The quarterly client satisfaction survey results are now available...',
    senderName: 'Customer Success',
    senderEmail: 'cs@zenithsolutions.com',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: daysAgo(2),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales', 'Ops'],
    priority: 'Medium',
    status: 'Open',
    linkedReceiptIds: ['RCP_0035'],
    unread: false,
    messageCount: 3,
    hasAttachments: true,
    createdAt: daysAgo(3),
    updatedAt: daysAgo(2),
  },
  {
    id: mailId(9),
    type: 'mail',
    subject: 'Insurance Renewal Notice — Business Liability',
    preview: 'Your business liability insurance policy is due for renewal...',
    senderName: 'Insurance Broker',
    senderEmail: 'renewals@insuranceco.com',
    recipients: ['ops@zenithsolutions.com'],
    timestamp: daysAgo(3),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal', 'Finance'],
    priority: 'High',
    status: 'Open',
    linkedReceiptIds: ['RCP_0036'],
    unread: true,
    messageCount: 2,
    hasAttachments: true,
    createdAt: daysAgo(5),
    updatedAt: daysAgo(3),
  },
  {
    id: mailId(10),
    type: 'mail',
    subject: 'IT Infrastructure Quote — Cloud Migration',
    preview: 'As discussed, here is our proposal for your cloud migration project...',
    senderName: 'Cloud Solutions',
    senderEmail: 'sales@cloudprovider.com',
    recipients: ['it@zenithsolutions.com'],
    timestamp: daysAgo(4),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Ops', 'Security'],
    priority: 'Medium',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0037'],
    unread: false,
    messageCount: 4,
    hasAttachments: true,
    createdAt: daysAgo(6),
    updatedAt: daysAgo(4),
  },
  {
    id: mailId(11),
    type: 'mail',
    subject: 'Marketing Campaign Review — Q1 Digital',
    preview: 'Please review the proposed Q1 digital marketing campaign...',
    senderName: 'Marketing Agency',
    senderEmail: 'account@marketingagency.com',
    recipients: ['marketing@zenithsolutions.com'],
    timestamp: daysAgo(5),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales'],
    priority: 'Medium',
    status: 'Open',
    linkedReceiptIds: ['RCP_0038'],
    unread: false,
    messageCount: 3,
    hasAttachments: true,
    createdAt: daysAgo(7),
    updatedAt: daysAgo(5),
  },
  {
    id: mailId(12),
    type: 'mail',
    subject: 'Compliance Training Reminder',
    preview: 'This is a reminder that your compliance training certification expires soon...',
    senderName: 'HR Department',
    senderEmail: 'hr@zenithsolutions.com',
    recipients: ['team@zenithsolutions.com'],
    timestamp: daysAgo(6),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Security', 'Ops'],
    priority: 'Low',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0039'],
    unread: false,
    messageCount: 2,
    hasAttachments: false,
    createdAt: daysAgo(10),
    updatedAt: daysAgo(6),
  },
  {
    id: mailId(13),
    type: 'mail',
    subject: 'New Client Onboarding — Apex Industries',
    preview: 'Welcome packet and onboarding schedule for our new client...',
    senderName: 'Client Success',
    senderEmail: 'onboarding@zenithsolutions.com',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: daysAgo(7),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Sales', 'Ops'],
    priority: 'High',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0040'],
    unread: false,
    messageCount: 5,
    hasAttachments: true,
    createdAt: daysAgo(10),
    updatedAt: daysAgo(7),
  },
  {
    id: mailId(14),
    type: 'mail',
    subject: 'Board Meeting Minutes — December',
    preview: 'Attached are the minutes from last month\'s board meeting...',
    senderName: 'Executive Assistant',
    senderEmail: 'ea@zenithsolutions.com',
    recipients: ['founder@zenithsolutions.com'],
    timestamp: daysAgo(8),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Legal'],
    priority: 'Low',
    status: 'Resolved',
    linkedReceiptIds: ['RCP_0041'],
    unread: false,
    messageCount: 1,
    hasAttachments: true,
    createdAt: daysAgo(9),
    updatedAt: daysAgo(8),
  },
  {
    id: mailId(15),
    type: 'mail',
    subject: 'Quarterly Tax Filing Reminder',
    preview: 'Reminder: Q4 tax filings are due by the end of this month...',
    senderName: 'Accounting Firm',
    senderEmail: 'tax@accountingfirm.com',
    recipients: ['finance@zenithsolutions.com'],
    timestamp: daysAgo(10),
    suiteId: SUITE_ID,
    officeId: OFFICE_ID,
    tags: ['Finance', 'Legal'],
    priority: 'High',
    status: 'Waiting',
    linkedReceiptIds: ['RCP_0042'],
    unread: false,
    messageCount: 3,
    hasAttachments: true,
    createdAt: daysAgo(14),
    updatedAt: daysAgo(10),
  },
];

export function getMailMessages(threadId: string): MailMessage[] {
  return [
    {
      id: 'msg_1',
      sender: 'James Morrison',
      senderEmail: 'j.morrison@propertygroup.com',
      content: 'Hi,\n\nPlease find attached the revised lease renewal terms for your review. We have incorporated the changes discussed in our last meeting.\n\nKey updates:\n- Extended term option from 3 to 5 years\n- Adjusted escalation clause to 2.5% annually\n- Added early termination flexibility after Year 2\n\nLooking forward to your feedback.\n\nBest regards,\nJames Morrison\nProperty Management Director',
      timestamp: daysAgo(3),
      attachments: [
        { id: 'att_1', name: 'Lease_Renewal_Draft_v2.pdf', type: 'pdf', size: '2.4 MB' },
      ],
    },
    {
      id: 'msg_2',
      sender: 'Ava',
      senderEmail: 'ava@zenithsolutions.com',
      content: 'Thank you for sending the revised terms. I have flagged this for the founder\'s review and will provide feedback within 48 hours.\n\nI have also created a summary document highlighting the key changes for easier review.',
      timestamp: daysAgo(2),
      attachments: [
        { id: 'att_2', name: 'Lease_Changes_Summary.pdf', type: 'pdf', size: '156 KB' },
      ],
    },
    {
      id: 'msg_3',
      sender: 'James Morrison',
      senderEmail: 'j.morrison@propertygroup.com',
      content: 'That would be great. Just to confirm, the current lease expires on February 28th, so we would need a decision by February 15th at the latest to ensure continuity.',
      timestamp: daysAgo(1),
      attachments: [],
    },
    {
      id: 'msg_4',
      sender: 'Ava',
      senderEmail: 'ava@zenithsolutions.com',
      content: 'Understood. I have added this deadline to the authority queue for priority review. You will receive our response well before the February 15th deadline.',
      timestamp: hoursAgo(1),
      attachments: [],
    },
  ];
}

export const complianceFooter = 'This email and any attachments are confidential and intended solely for the addressee. If you have received this email in error, please notify the sender immediately and delete the message. Unauthorized use, disclosure, or copying is prohibited. This communication may be subject to attorney-client privilege. Zenith Solutions maintains records of all business communications in accordance with our data retention policy.';
